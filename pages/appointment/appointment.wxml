<!--pages/appointment/appointment.wxml-->
<view class="page">
  <!-- Header -->
  <view class="header gradient-bg">
    <view class="header-top">
       <view class="back-btn" bindtap="goBack">
        <text class="back-icon">â†</text>
      </view>
      <view class="header-content">
        <text class="header-title">é¢„çº¦æŒ‚å·</text>
        <text class="header-subtitle">é€‰æ‹©åŒ»é™¢å’Œæ—¶é—´</text>
      </view>
    </view>
  </view>

  <view class="content">
    <!-- Date Selection -->
    <view class="card">
      <view class="card-header">
        <text class="card-icon">ğŸ“…</text>
        <text class="card-title">é€‰æ‹©æ—¥æœŸ</text>
      </view>
      <scroll-view class="date-scroll" scroll-x="true" show-scrollbar="{{false}}">
        <view class="date-list">
          <view wx:for="{{dates}}" wx:key="date" class="date-item {{selectedDate === item.date ? 'selected' : ''}}" data-date="{{item.date}}" bindtap="selectDate">
            <text class="date-label">{{item.label}}</text>
            <text class="date-day">{{item.day}}</text>
          </view>
        </view>
      </scroll-view>
    </view>

    <!-- Time Selection -->
    <view class="card">
      <view class="card-header">
        <text class="card-icon">ğŸ•’</text>
        <text class="card-title">é€‰æ‹©æ—¶é—´</text>
      </view>
      <view class="time-grid">
        <view wx:for="{{timeSlots}}" wx:key="*this" class="time-slot {{selectedTime === item ? 'selected' : ''}}" data-time="{{item}}" bindtap="selectTime">
          {{item}}
        </view>
      </view>
    </view>

    <!-- Hospital Selection -->
    <view class="card">
      <view class="card-header">
        <text class="card-icon">ğŸ¥</text>
        <text class="card-title">é€‰æ‹©åŒ»é™¢</text>
      </view>
      <view class="hospital-list">
        <view wx:for="{{hospitals}}" wx:key="id" class="hospital-item">
          <view class="hospital-info">
            <text class="hospital-name">{{item.name}}</text>
            <view class="hospital-meta">
              <view class="meta-item">
                <text class="meta-icon">ğŸ“</text>
                <text>{{item.distance}}</text>
              </view>
              <view class="meta-item">
                <text class="meta-icon star">â­</text>
                <text>{{item.rating}} ({{item.reviews}})</text>
              </view>
            </view>
            <text class="hospital-address">{{item.address}}</text>
          </view>
          <text class="arrow-icon">></text>
        </view>
      </view>
    </view>

    <!-- Confirm Button -->
    <view class="confirm-btn {{!canSubmit ? 'disabled' : ''}}" bindtap="confirmAppointment">
      ç¡®è®¤é¢„çº¦
    </view>

     <!-- Tips -->
    <view class="tips-card">
      <view class="tips-header">
        <text class="tips-icon">ğŸ’¡</text>
        <text class="tips-title">é¢„çº¦é¡»çŸ¥</text>
      </view>
      <view class="tips-list">
        <text class="tip-item">â€¢ è¯·æå‰15åˆ†é’Ÿåˆ°è¾¾åŒ»é™¢</text>
        <text class="tip-item">â€¢ æºå¸¦å® ç‰©ç–«è‹—æœ¬å’Œç—…å†</text>
        <text class="tip-item">â€¢ å¦‚éœ€å–æ¶ˆè¯·æå‰2å°æ—¶é€šçŸ¥</text>
      </view>
    </view>
  </view>
</view>

